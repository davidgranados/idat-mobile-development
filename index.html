<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
    <title>M√©todos de Arrays en JavaScript: map, filter y reduce</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>üöÄ M√©todos de Arrays en JavaScript</h1>
            <p>Aprende map, filter y reduce de forma interactiva</p>
        </div>
    </header>

    <main class="container">
        <!-- Introducci√≥n -->
        <section class="intro">
            <h2>¬øQu√© son los m√©todos de arrays?</h2>
            <p>Los m√©todos <code>map</code>, <code>filter</code> y <code>reduce</code> son herramientas poderosas para trabajar con arrays de manera funcional. Te permiten transformar, filtrar y procesar datos de forma m√°s elegante que los bucles tradicionales.</p>
        </section>

        <!-- Instrucciones generales siempre visibles -->
        <section class="general-instructions">
            <div class="instructions-banner">
                <h3>üìñ C√≥mo usar este sitio</h3>
                <p>Cada secci√≥n muestra un m√©todo de array y su equivalente con bucles <code>for</code>. <strong>Haz clic en "Ejecutar"</strong> para ver los resultados en tiempo real y compara ambos enfoques.</p>
            </div>
        </section>

        <!-- Datos de ejemplo -->
        <section class="data-section">
            <h2>üìä Datos de Ejemplo</h2>
            <p>Usaremos este array de productos para nuestros ejemplos:</p>
            <div class="code-block">
                <pre><code id="sample-data" class="language-javascript">const productos = [
    { nombre: "Laptop", precio: 1200, categoria: "electr√≥nicos", descuento: 0.1 },
    { nombre: "Tel√©fono", precio: 800, categoria: "electr√≥nicos", descuento: 0.15 },
    { nombre: "Libro", precio: 25, categoria: "educaci√≥n", descuento: 0.05 },
    { nombre: "Auriculares", precio: 150, categoria: "electr√≥nicos", descuento: 0.2 },
    { nombre: "Mesa", precio: 300, categoria: "muebles", descuento: 0.1 }
];</code></pre>
            </div>
        </section>

        <!-- MAP -->
        <section class="method-section">
            <h2>üó∫Ô∏è M√©todo MAP
                <div class="tooltip-container">
                    <span class="tooltip-trigger">üí°</span>
                    <div class="tooltip-content">
                        <p><strong>Tip:</strong> MAP siempre devuelve un array de la misma longitud que el original. Es perfecto para transformaciones uno a uno.</p>
                    </div>
                </div>
            </h2>
            <div class="explanation">
                <p><strong>¬øQu√© hace?</strong> Transforma cada elemento del array y devuelve un nuevo array con los elementos transformados.</p>
                <p><strong>Cu√°ndo usarlo:</strong> Cuando necesites aplicar la misma operaci√≥n a todos los elementos de un array.</p>
            </div>

            <div class="section-instructions">
                <p><strong>üìã Instrucciones:</strong> Compara c√≥mo MAP simplifica la transformaci√≥n de arrays vs el bucle FOR equivalente. Haz clic en los botones para ejecutar cada ejemplo.</p>
            </div>

            <div class="example-container">
                <div class="example">
                    <h3>Usando MAP</h3>
                    <div class="code-block">
                        <pre><code class="language-javascript">// Obtener solo los nombres de los productos
const nombres = productos.map(producto => producto.nombre);

// Calcular precios con descuento
const preciosConDescuento = productos.map(producto => {
    return producto.precio * (1 - producto.descuento);
});</code></pre>
                    </div>
                    <button class="run-btn" onclick="ejecutarMap()">Ejecutar MAP</button>
                </div>

                <div class="example">
                    <h3>Equivalente con FOR</h3>
                    <div class="code-block">
                        <pre><code class="language-javascript">// Funci√≥n MAP equivalente con FOR
// Par√°metros:
//   - array: el array original que queremos transformar
//   - callback: funci√≥n que define c√≥mo transformar cada elemento
function mapConFor(array, callback) {
    const resultado = []; // Array para almacenar los elementos transformados

    // Iteramos cada elemento del array original
    for (let i = 0; i < array.length; i++) {
        // Llamamos al callback con los mismos par√°metros que map():
        // 1. array[i] = elemento actual
        // 2. i = √≠ndice actual
        // 3. array = array completo (para casos especiales)
        const elementoTransformado = callback(array[i], i, array);
        resultado.push(elementoTransformado);
    }
    return resultado; // Devolvemos el nuevo array transformado
}

// Ejemplo de uso: extraer nombres
// callback recibe: (producto, √≠ndice, arrayCompleto)
// callback devuelve: producto.nombre
const nombres = mapConFor(productos, producto => producto.nombre);

// Ejemplo m√°s complejo: calcular precios con descuento
// callback recibe: (producto, √≠ndice, arrayCompleto)
// callback devuelve: precio calculado con descuento
const preciosConDescuento = mapConFor(productos, producto => {
    return producto.precio * (1 - producto.descuento);
});</code></pre>
                    </div>
                    <button class="run-btn" onclick="ejecutarMapFor()">Ejecutar FOR</button>
                </div>
            </div>

            <div class="result" id="map-result"></div>
        </section>

        <!-- FILTER -->
        <section class="method-section">
            <h2>üîç M√©todo FILTER
                <div class="tooltip-container">
                    <span class="tooltip-trigger">üí°</span>
                    <div class="tooltip-content">
                        <p><strong>Tip:</strong> FILTER puede devolver un array m√°s peque√±o, del mismo tama√±o o incluso vac√≠o, dependiendo de cu√°ntos elementos cumplan la condici√≥n.</p>
                    </div>
                </div>
            </h2>
            <div class="explanation">
                <p><strong>¬øQu√© hace?</strong> Filtra elementos del array que cumplan una condici√≥n espec√≠fica y devuelve un nuevo array con esos elementos.</p>
                <p><strong>Cu√°ndo usarlo:</strong> Cuando necesites seleccionar solo algunos elementos que cumplan ciertos criterios.</p>
            </div>

            <div class="section-instructions">
                <p><strong>üìã Instrucciones:</strong> Observa c√≥mo FILTER simplifica la selecci√≥n de elementos vs usar IF dentro de un bucle FOR. Ejecuta ambos ejemplos para comparar.</p>
            </div>

            <div class="example-container">
                <div class="example">
                    <h3>Usando FILTER</h3>
                    <div class="code-block">
                        <pre><code class="language-javascript">// Filtrar productos electr√≥nicos
const electronicos = productos.filter(producto =>
    producto.categoria === "electr√≥nicos"
);

// Filtrar productos caros (precio > 200)
const productosCaros = productos.filter(producto =>
    producto.precio > 200
);</code></pre>
                    </div>
                    <button class="run-btn" onclick="ejecutarFilter()">Ejecutar FILTER</button>
                </div>

                <div class="example">
                    <h3>Equivalente con FOR</h3>
                    <div class="code-block">
                        <pre><code class="language-javascript">// Funci√≥n FILTER equivalente con FOR
// Par√°metros:
//   - array: el array original que queremos filtrar
//   - callback: funci√≥n que define la condici√≥n de filtrado (debe devolver true/false)
function filterConFor(array, callback) {
    const resultado = []; // Array para almacenar solo los elementos que pasen el filtro

    // Iteramos cada elemento del array original
    for (let i = 0; i < array.length; i++) {
        // Llamamos al callback con los mismos par√°metros que filter():
        // 1. array[i] = elemento actual
        // 2. i = √≠ndice actual
        // 3. array = array completo (para casos especiales)
        const cumpleCondicion = callback(array[i], i, array);

        // Si el callback devuelve true, incluimos el elemento
        if (cumpleCondicion) {
            resultado.push(array[i]); // Agregamos el elemento ORIGINAL (no transformado)
        }
        // Si devuelve false, simplemente lo omitimos
    }
    return resultado; // Devolvemos el nuevo array con solo los elementos filtrados
}

// Ejemplo 1: filtrar por categor√≠a
// callback recibe: (producto, √≠ndice, arrayCompleto)
// callback devuelve: true si es electr√≥nico, false si no lo es
const electronicos = filterConFor(productos,
    producto => producto.categoria === "electr√≥nicos"
);

// Ejemplo 2: filtrar por precio
// callback recibe: (producto, √≠ndice, arrayCompleto)
// callback devuelve: true si precio > 200, false si precio <= 200
const productosCaros = filterConFor(productos,
    producto => producto.precio > 200
);</code></pre>
                    </div>
                    <button class="run-btn" onclick="ejecutarFilterFor()">Ejecutar FOR</button>
                </div>
            </div>

            <div class="result" id="filter-result"></div>
        </section>

        <!-- REDUCE -->
        <section class="method-section">
            <h2>üîÑ M√©todo REDUCE
                <div class="tooltip-container">
                    <span class="tooltip-trigger">üí°</span>
                    <div class="tooltip-content">
                        <p><strong>Tip:</strong> REDUCE es el m√°s vers√°til: puede devolver un n√∫mero, string, objeto, o incluso otro array. El valor inicial es importante!</p>
                    </div>
                </div>
            </h2>
            <div class="explanation">
                <p><strong>¬øQu√© hace?</strong> Procesa todos los elementos del array para producir un √∫nico valor acumulado.</p>
                <p><strong>Cu√°ndo usarlo:</strong> Cuando necesites calcular un valor total, encontrar el m√°ximo/m√≠nimo, o agrupar datos.</p>
            </div>

            <div class="section-instructions">
                <p><strong>üìã Instrucciones:</strong> REDUCE es el m√°s complejo pero potente. Compara c√≥mo acumula valores vs m√∫ltiples variables en bucles FOR. Presta atenci√≥n al acumulador.</p>
            </div>

            <div class="example-container">
                <div class="example">
                    <h3>Usando REDUCE</h3>
                    <div class="code-block">
                        <pre><code class="language-javascript">// Ejemplo 1: Sumar todos los precios
const precioTotal = productos.reduce((suma, producto) => {
    return suma + producto.precio;
}, 0);
console.log('Precio total:', precioTotal); // 2475

// Ejemplo 2: Encontrar el producto m√°s caro
const productoMasCaro = productos.reduce((masCaro, producto) => {
    return producto.precio > masCaro.precio ? producto : masCaro;
});
console.log('M√°s caro:', productoMasCaro.nombre); // Laptop

// Ejemplo 3: Agrupar productos por categor√≠a
const porCategoria = productos.reduce((grupos, producto) => {
    if (!grupos[producto.categoria]) {
        grupos[producto.categoria] = [];
    }
    grupos[producto.categoria].push(producto);
    return grupos;
}, {});</code></pre>
                    </div>
                    <button class="run-btn" onclick="ejecutarReduce()">Ejecutar REDUCE</button>
                </div>

                <div class="example">
                    <h3>Equivalente con FOR</h3>
                    <div class="code-block">
                        <pre><code class="language-javascript">// Funci√≥n REDUCE equivalente con FOR
// Par√°metros:
//   - array: el array original que queremos procesar
//   - callback: funci√≥n que define c√≥mo acumular los valores
//   - valorInicial: valor inicial del acumulador (opcional)
function reduceConFor(array, callback, valorInicial) {
    let acumulador = valorInicial; // Variable que acumula el resultado
    let inicio = 0; // √çndice donde empezar la iteraci√≥n

    // Si no se proporciona valor inicial, usamos el primer elemento del array
    if (valorInicial === undefined) {
        acumulador = array[0]; // El primer elemento se convierte en el acumulador
        inicio = 1; // Empezamos desde el segundo elemento
    }

    // Iteramos desde 'inicio' hasta el final del array
    for (let i = inicio; i < array.length; i++) {
        // Llamamos al callback con los par√°metros de reduce():
        // 1. acumulador = valor acumulado hasta ahora
        // 2. array[i] = elemento actual
        // 3. i = √≠ndice actual
        // 4. array = array completo
        acumulador = callback(acumulador, array[i], i, array);
        // IMPORTANTE: el resultado del callback se convierte en el nuevo acumulador
    }
    return acumulador; // Devolvemos el valor final acumulado
}

// Ejemplo 1: Sumar todos los precios
// callback recibe: (sumaAcumulada, productoActual, √≠ndice, arrayCompleto)
// callback devuelve: nueva suma (sumaAcumulada + precio del producto actual)
const precioTotal = reduceConFor(productos,
    (suma, producto) => suma + producto.precio, 0 // valor inicial: 0
);

// Ejemplo 2: Encontrar el producto m√°s caro
// callback recibe: (productoM√°sCaroHastaAhora, productoActual, √≠ndice, arrayCompleto)
// callback devuelve: el producto con mayor precio entre los dos
const productoMasCaro = reduceConFor(productos,
    (masCaro, producto) => producto.precio > masCaro.precio ? producto : masCaro
    // Sin valor inicial: usa el primer producto como inicial
);

// Ejemplo 3: Agrupar productos por categor√≠a
// callback recibe: (objetoGrupos, productoActual, √≠ndice, arrayCompleto)
// callback devuelve: objeto grupos actualizado con el nuevo producto
const porCategoria = reduceConFor(productos, (grupos, producto) => {
    // Si la categor√≠a no existe, la creamos
    if (!grupos[producto.categoria]) {
        grupos[producto.categoria] = [];
    }
    // Agregamos el producto a su categor√≠a
    grupos[producto.categoria].push(producto);
    return grupos; // CRUCIAL: devolver el acumulador modificado
}, {}); // valor inicial: objeto vac√≠o</code></pre>
                    </div>
                    <button class="run-btn" onclick="ejecutarReduceFor()">Ejecutar FOR</button>
                </div>
            </div>

            <div class="result" id="reduce-result"></div>
        </section>

        <!-- Playground interactivo -->
        <section class="playground">
            <h2>üéÆ √Årea de Pr√°ctica
                <div class="tooltip-container">
                    <span class="tooltip-trigger">üí°</span>
                    <div class="tooltip-content">
                        <p><strong>Tip:</strong> Usa <kbd>Ctrl/Cmd + Enter</kbd> para ejecutar r√°pidamente. El array 'productos' est√° disponible aqu√≠.</p>
                    </div>
                </div>
            </h2>
            <div class="section-instructions">
                <p><strong>üìã Instrucciones:</strong> Experimenta con los m√©todos. Intenta encadenar varios m√©todos como <code>productos.filter().map().reduce()</code></p>
            </div>
            <p>Escribe tu propio c√≥digo y experimenta:</p>
            <textarea id="playground-code" placeholder="// Escribe tu c√≥digo aqu√≠
// Ejemplo: productos.map(p => p.nombre)
"></textarea>
            <button class="run-btn" onclick="ejecutarPlayground()">Ejecutar C√≥digo</button>
            <div class="result" id="playground-result"></div>
        </section>

        <!-- Comparaci√≥n final -->
        <section class="comparison">
            <h2>üìä Comparaci√≥n: M√©todos vs. Bucles FOR</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h3>M√©todos de Array</h3>
                    <ul>
                        <li>‚úÖ M√°s legibles y expresivos</li>
                        <li>‚úÖ Menos propensos a errores</li>
                        <li>‚úÖ Programaci√≥n funcional</li>
                        <li>‚úÖ Inmutables (no modifican el array original)</li>
                        <li>‚úÖ C√≥digo m√°s conciso</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h3>Bucles FOR</h3>
                    <ul>
                        <li>‚úÖ Mayor control sobre la iteraci√≥n</li>
                        <li>‚úÖ Pueden ser m√°s eficientes en algunos casos</li>
                        <li>‚úÖ Permiten breaks y continues</li>
                        <li>‚ùå M√°s c√≥digo repetitivo</li>
                        <li>‚ùå Mayor riesgo de errores de √≠ndice</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de ejercicios interactivos -->
        <section class="exercises">
            <h2>üéØ Ejercicios Pr√°cticos</h2>
            <div class="section-instructions">
                <p><strong>üìã Instrucciones:</strong> Resuelve los ejercicios escribiendo c√≥digo que use los m√©todos de arrays. Puedes escribir solo la funci√≥n o el c√≥digo completo. ¬°Experimenta!</p>
            </div>

            <!-- Ejercicio combinado principal -->
            <div class="challenge-exercise">
                <h3>üèÜ Desaf√≠o Principal: Sistema de Calificaciones</h3>
                <div class="challenge-description">
                    <p><strong>Problema:</strong> Tienes un grupo de estudiantes con sus puntuaciones de ex√°menes. Debes:</p>
                    <ol>
                        <li>Calcular el promedio de cada estudiante usando <code>reduce</code></li>
                        <li>Transformar los datos usando <code>map</code> para incluir el promedio</li>
                        <li>Filtrar usando <code>filter</code> solo los estudiantes con promedio mayor a 15</li>
                    </ol>
                </div>

                <div class="challenge-data">
                    <h4>üìä Datos de entrada:</h4>
                    <div class="code-block">
                        <pre><code class="language-javascript">const estudiantes = [
    {nombre : "Juan Luis Guerra", puntuacion : [15, 13, 19]},
    {nombre : "Roberto Carlos", puntuacion : [13, 11, 10]},
    {nombre : "Luis Miguel", puntuacion : [17, 16, 20]},
    {nombre : "Renzo Costa", puntuacion : [10, 11, 12]}
];</code></pre>
                    </div>
                </div>

                <div class="expected-result">
                    <strong>Resultado esperado:</strong> Array con estudiantes que tienen promedio > 15, incluyendo su promedio calculado
                </div>

                <textarea id="challenge-exercise" placeholder="// Escribe tu soluci√≥n aqu√≠
// Tip: Puedes encadenar los m√©todos o usar variables intermedias
// Ejemplo: estudiantes.map(...).filter(...)"></textarea>

                <button class="exercise-btn" onclick="checkChallengeExercise()">Verificar Soluci√≥n</button>
                <div class="exercise-result" id="challenge-result"></div>

                <div class="challenge-hint">
                    <details>
                        <summary>üí° Ver pista</summary>
                        <p>1. Usa <code>map</code> para agregar el promedio: <code>estudiante.puntuacion.reduce(...) / estudiante.puntuacion.length</code></p>
                        <p>2. Usa <code>filter</code> para filtrar por promedio: <code>estudiante.promedio > 15</code></p>
                        <p>3. Puedes encadenar los m√©todos: <code>estudiantes.map(...).filter(...)</code></p>
                    </details>
                </div>
            </div>

            <!-- Ejercicios MAP -->
            <div class="exercise-group">
                <h3>üó∫Ô∏è Ejercicios con MAP</h3>

                <div class="exercise">
                    <h4>Ejercicio 1: Convertir temperaturas</h4>
                    <p>Dado un array de temperaturas en Celsius <code>[0, 25, 30, 40]</code>, convierte cada temperatura a Fahrenheit usando la f√≥rmula: <code>(C * 9/5) + 32</code></p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>[32, 77, 86, 104]</code>
                    </div>
                    <textarea id="exercise-map-1" placeholder="// Escribe tu c√≥digo aqu√≠
// Ejemplo: temperaturas.map(...)"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('map', 1)">Verificar</button>
                    <div class="exercise-result" id="result-map-1"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 2: Crear etiquetas HTML</h4>
                    <p>Dado un array de nombres <code>['Ana', 'Carlos', 'Mar√≠a']</code>, crea un array de etiquetas HTML <code>&lt;li&gt;</code> para cada nombre.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>['&lt;li&gt;Ana&lt;/li&gt;', '&lt;li&gt;Carlos&lt;/li&gt;', '&lt;li&gt;Mar√≠a&lt;/li&gt;']</code>
                    </div>
                    <textarea id="exercise-map-2" placeholder="// Escribe tu c√≥digo aqu√≠"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('map', 2)">Verificar</button>
                    <div class="exercise-result" id="result-map-2"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 3: Calcular √°reas de c√≠rculos</h4>
                    <p>Dado un array de radios <code>[1, 2, 3, 4]</code>, calcula el √°rea de cada c√≠rculo usando la f√≥rmula: <code>Math.PI * r * r</code></p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> Array con las √°reas redondeadas a 2 decimales
                    </div>
                    <textarea id="exercise-map-3" placeholder="// Escribe tu c√≥digo aqu√≠"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('map', 3)">Verificar</button>
                    <div class="exercise-result" id="result-map-3"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 4: Generar IDs √∫nicos (üéì Nivel Estudiante)</h4>
                    <p>Dado un array de usuarios <code>[{nombre: 'Ana'}, {nombre: 'Luis'}, {nombre: 'Mar√≠a'}]</code>, agrega a cada uno un ID √∫nico empezando desde 1.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>[{nombre: 'Ana', id: 1}, {nombre: 'Luis', id: 2}, {nombre: 'Mar√≠a', id: 3}]</code>
                    </div>
                    <textarea id="exercise-map-4" placeholder="// Tip: usa el segundo par√°metro de map (√≠ndice)
// usuarios.map((usuario, indice) => ...)"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('map', 4)">Verificar</button>
                    <div class="exercise-result" id="result-map-4"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 5: Formatear datos de empleados (üíº Nivel 1 a√±o de experiencia)</h4>
                    <p>Dado un array de empleados <code>[{nombre: 'Ana Garc√≠a', salario: 50000, departamento: 'IT'}, {nombre: 'Luis P√©rez', salario: 45000, departamento: 'HR'}]</code>, crea un array de strings con el formato: "Ana G. (IT) - $50,000"</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> Array con nombres formateados
                    </div>
                    <textarea id="exercise-map-5" placeholder="// Tip: usa split(), toLocaleString() para n√∫meros
// empleados.map(emp => ...)"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('map', 5)">Verificar</button>
                    <div class="exercise-result" id="result-map-5"></div>

                    <div class="challenge-hint">
                        <details>
                            <summary>üí° Ver pistas detalladas</summary>
                            <p><strong>Paso 1:</strong> Extraer inicial del apellido: <code>nombre.split(' ')[1][0]</code></p>
                            <p><strong>Paso 2:</strong> Formatear salario: <code>salario.toLocaleString('en-US')</code></p>
                            <p><strong>Paso 3:</strong> Combinar en template string: <code>`${nombreCompleto} (${depto}) - $${salarioFormateado}`</code></p>
                            <p><strong>Ejemplo:</strong> <code>empleados.map(emp => `${emp.nombre.split(' ')[0]} ${emp.nombre.split(' ')[1][0]}. (${emp.departamento}) - $${emp.salario.toLocaleString('en-US')}`)</code></p>
                        </details>
                    </div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 6: Transformar estructura de datos compleja (üöÄ Nivel 2 a√±os de experiencias)</h4>
                    <p>Dado un array de pedidos <code>[{id: 1, productos: [{nombre: 'Laptop', precio: 1000}, {nombre: 'Mouse', precio: 25}], cliente: 'Ana'}, {id: 2, productos: [{nombre: 'Teclado', precio: 50}], cliente: 'Luis'}]</code>, transforma cada pedido para incluir el total y el n√∫mero de productos.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> Array con estructura: <code>{id, cliente, totalProductos: number, totalPrecio: number, resumen: string}</code>
                    </div>
                    <textarea id="exercise-map-6" placeholder="// Desaf√≠o: calcula totales y crea un resumen
// pedidos.map(pedido => ({...}))"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('map', 6)">Verificar</button>
                    <div class="exercise-result" id="result-map-6"></div>

                    <div class="challenge-hint">
                        <details>
                            <summary>üí° Ver pistas detalladas</summary>
                            <p><strong>Concepto clave:</strong> Usar <code>reduce</code> dentro de <code>map</code> para procesar arrays anidados</p>
                            <p><strong>Paso 1:</strong> Calcular total productos: <code>pedido.productos.length</code></p>
                            <p><strong>Paso 2:</strong> Calcular precio total: <code>pedido.productos.reduce((sum, prod) => sum + prod.precio, 0)</code></p>
                            <p><strong>Paso 3:</strong> Spread operator para mantener propiedades: <code>{...pedido, nuevasPropiedades}</code></p>
                            <p><strong>Paso 4:</strong> Template literal para resumen: <code>`${cliente}: ${count} productos - $${total.toLocaleString()}`</code></p>
                            <p><strong>Estructura completa:</strong></p>
                            <pre><code>pedidos.map(pedido => {
  const totalProductos = pedido.productos.length;
  const totalPrecio = pedido.productos.reduce((sum, prod) => sum + prod.precio, 0);
  return {
    ...pedido, // mantiene id, productos, cliente
    totalProductos,
    totalPrecio,
    resumen: `${pedido.cliente}: ${totalProductos} productos - $${totalPrecio.toLocaleString()}`
  };
})</code></pre>
                        </details>
                    </div>
                </div>
            </div>

            <!-- Ejercicios FILTER -->
            <div class="exercise-group">
                <h3>üîç Ejercicios con FILTER</h3>

                <div class="exercise">
                    <h4>Ejercicio 1: Filtrar n√∫meros pares</h4>
                    <p>Dado un array de n√∫meros <code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code>, filtra solo los n√∫meros pares.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>[2, 4, 6, 8, 10]</code>
                    </div>
                    <textarea id="exercise-filter-1" placeholder="// Escribe tu c√≥digo aqu√≠"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('filter', 1)">Verificar</button>
                    <div class="exercise-result" id="result-filter-1"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 2: Filtrar palabras largas</h4>
                    <p>Dado un array de palabras <code>['hola', 'javascript', 'es', 'genial', 'programar']</code>, filtra solo las palabras que tengan m√°s de 5 caracteres.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>['javascript', 'programar']</code>
                    </div>
                    <textarea id="exercise-filter-2" placeholder="// Escribe tu c√≥digo aqu√≠"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('filter', 2)">Verificar</button>
                    <div class="exercise-result" id="result-filter-2"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 3: Filtrar estudiantes aprobados</h4>
                    <p>Dado un array de estudiantes con calificaciones <code>[{nombre: 'Ana', nota: 85}, {nombre: 'Luis', nota: 62}, {nombre: 'Mar√≠a', nota: 91}]</code>, filtra solo los que tienen nota >= 70.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> Estudiantes con nota >= 70
                    </div>
                    <textarea id="exercise-filter-3" placeholder="// Escribe tu c√≥digo aqu√≠"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('filter', 3)">Verificar</button>
                    <div class="exercise-result" id="result-filter-3"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 4: Filtrar productos en stock (üéì Nivel Estudiante)</h4>
                    <p>Dado un array de productos <code>[{nombre: 'Laptop', stock: 5}, {nombre: 'Mouse', stock: 0}, {nombre: 'Teclado', stock: 3}]</code>, filtra solo los productos que tienen stock disponible (stock > 0).</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> Productos con stock > 0
                    </div>
                    <textarea id="exercise-filter-4" placeholder="// Filtra productos con stock disponible
// productos.filter(producto => ...)"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('filter', 4)">Verificar</button>
                    <div class="exercise-result" id="result-filter-4"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 5: Filtrar usuarios activos recientes (üíº Nivel 1 a√±o de experiencia)</h4>
                    <p>Dado un array de usuarios <code>[{nombre: 'Ana', activo: true, ultimoLogin: '2024-01-15'}, {nombre: 'Luis', activo: false, ultimoLogin: '2023-12-01'}, {nombre: 'Mar√≠a', activo: true, ultimoLogin: '2024-01-10'}]</code>, filtra usuarios que est√©n activos Y hayan hecho login despu√©s del 1 de enero de 2024.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> Usuarios activos con login reciente
                    </div>
                    <textarea id="exercise-filter-5" placeholder="// Tip: usa new Date() para comparar fechas
// usuarios.filter(usuario => usuario.activo && ...)"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('filter', 5)">Verificar</button>
                    <div class="exercise-result" id="result-filter-5"></div>

                    <div class="challenge-hint">
                        <details>
                            <summary>üí° Ver pistas detalladas</summary>
                            <p><strong>Concepto clave:</strong> Combinar condiciones booleanas con comparaci√≥n de fechas</p>
                            <p><strong>Paso 1:</strong> Verificar usuario activo: <code>usuario.activo === true</code></p>
                            <p><strong>Paso 2:</strong> Crear fecha de corte: <code>new Date('2024-01-01')</code></p>
                            <p><strong>Paso 3:</strong> Convertir string a Date: <code>new Date(usuario.ultimoLogin)</code></p>
                            <p><strong>Paso 4:</strong> Comparar fechas: <code>fechaLogin > fechaCorte</code></p>
                            <p><strong>Soluci√≥n completa:</strong></p>
                            <pre><code>usuarios.filter(usuario => {
  const fechaCorte = new Date('2024-01-01');
  const fechaLogin = new Date(usuario.ultimoLogin);
  return usuario.activo && fechaLogin > fechaCorte;
})</code></pre>
                            <p><strong>Versi√≥n compacta:</strong> <code>usuarios.filter(u => u.activo && new Date(u.ultimoLogin) > new Date('2024-01-01'))</code></p>
                        </details>
                    </div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 6: Filtrar con m√∫ltiples condiciones complejas (üöÄ Nivel 2 a√±os de experiencias)</h4>
                    <p>Dado un array de transacciones bancarias <code>[{id: 1, monto: 1500, tipo: 'deposito', fecha: '2024-01-15', categoria: 'salario'}, {id: 2, monto: 50, tipo: 'retiro', fecha: '2024-01-16', categoria: 'comida'}, {id: 3, monto: 2000, tipo: 'deposito', fecha: '2024-01-10', categoria: 'freelance'}]</code>, filtra transacciones que sean: dep√≥sitos > $1000 O retiros de categor√≠a 'comida' en enero 2024.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> Transacciones que cumplan las condiciones complejas
                    </div>
                    <textarea id="exercise-filter-6" placeholder="// Desaf√≠o: l√≥gica compleja con AND/OR
// transacciones.filter(t => (condicion1) || (condicion2))"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('filter', 6)">Verificar</button>
                    <div class="exercise-result" id="result-filter-6"></div>

                    <div class="challenge-hint">
                        <details>
                            <summary>üí° Ver pistas detalladas</summary>
                            <p><strong>Concepto clave:</strong> L√≥gica booleana compleja con operadores AND (&&) y OR (||)</p>
                            <p><strong>Condici√≥n 1:</strong> Dep√≥sitos grandes: <code>(t.tipo === 'deposito' && t.monto > 1000)</code></p>
                            <p><strong>Condici√≥n 2:</strong> Retiros comida en enero: <code>(t.tipo === 'retiro' && t.categoria === 'comida' && fechaEnero)</code></p>
                            <p><strong>Verificar fecha enero:</strong> <code>t.fecha.startsWith('2024-01')</code></p>
                            <p><strong>Estructura de decisi√≥n:</strong></p>
                            <pre><code>transacciones.filter(t => {
  // Condici√≥n 1: Dep√≥sitos > $1000
  const esDepositoGrande = t.tipo === 'deposito' && t.monto > 1000;

  // Condici√≥n 2: Retiros de comida en enero 2024
  const esRetiroComidaEnero = t.tipo === 'retiro' &&
                              t.categoria === 'comida' &&
                              t.fecha.startsWith('2024-01');

  // Devuelve true si cumple CUALQUIERA de las dos condiciones
  return esDepositoGrande || esRetiroComidaEnero;
})</code></pre>
                            <p><strong>Versi√≥n compacta:</strong> <code>transacciones.filter(t => (t.tipo === 'deposito' && t.monto > 1000) || (t.tipo === 'retiro' && t.categoria === 'comida' && t.fecha.startsWith('2024-01')))</code></p>
                        </details>
                    </div>
                </div>
            </div>

            <!-- Ejercicios REDUCE -->
            <div class="exercise-group">
                <h3>üîÑ Ejercicios con REDUCE</h3>

                <div class="exercise">
                    <h4>Ejercicio 1: Sumar todos los n√∫meros</h4>
                    <p>Dado un array de n√∫meros <code>[1, 2, 3, 4, 5]</code>, calcula la suma total usando reduce.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>15</code>
                    </div>
                    <textarea id="exercise-reduce-1" placeholder="// Escribe tu c√≥digo aqu√≠"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('reduce', 1)">Verificar</button>
                    <div class="exercise-result" id="result-reduce-1"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 2: Encontrar el n√∫mero mayor</h4>
                    <p>Dado un array de n√∫meros <code>[3, 7, 2, 9, 1, 5]</code>, encuentra el n√∫mero mayor usando reduce.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>9</code>
                    </div>
                    <textarea id="exercise-reduce-2" placeholder="// Escribe tu c√≥digo aqu√≠"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('reduce', 2)">Verificar</button>
                    <div class="exercise-result" id="result-reduce-2"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 3: Contar ocurrencias de letras</h4>
                    <p>Dado un array de letras <code>['a', 'b', 'a', 'c', 'b', 'a']</code>, cuenta cu√°ntas veces aparece cada letra usando reduce.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>{a: 3, b: 2, c: 1}</code>
                    </div>
                    <textarea id="exercise-reduce-3" placeholder="// Escribe tu c√≥digo aqu√≠"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('reduce', 3)">Verificar</button>
                    <div class="exercise-result" id="result-reduce-3"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 4: Calcular promedio de calificaciones (üéì Nivel Estudiante)</h4>
                    <p>Dado un array de calificaciones <code>[85, 92, 78, 96, 88]</code>, calcula el promedio usando reduce.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>87.8</code> (promedio redondeado a 1 decimal)
                    </div>
                    <textarea id="exercise-reduce-4" placeholder="// Tip: suma todos y divide por la longitud
// calificaciones.reduce((sum, nota) => ...) / calificaciones.length"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('reduce', 4)">Verificar</button>
                    <div class="exercise-result" id="result-reduce-4"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 5: Crear √≠ndice de productos por categor√≠a (üíº Nivel 1 a√±o de experiencia)</h4>
                    <p>Dado un array de productos <code>[{nombre: 'iPhone', categoria: 'electronics', precio: 999}, {nombre: 'Libro JS', categoria: 'books', precio: 30}, {nombre: 'Samsung TV', categoria: 'electronics', precio: 800}]</code>, crea un objeto donde las claves sean las categor√≠as y los valores sean arrays con los nombres de productos de esa categor√≠a.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>{electronics: ['iPhone', 'Samsung TV'], books: ['Libro JS']}</code>
                    </div>
                    <textarea id="exercise-reduce-5" placeholder="// Agrupa productos por categor√≠a
// productos.reduce((grupos, producto) => { ... }, {})"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('reduce', 5)">Verificar</button>
                    <div class="exercise-result" id="result-reduce-5"></div>

                    <div class="challenge-hint">
                        <details>
                            <summary>üí° Ver pistas detalladas</summary>
                            <p><strong>Concepto clave:</strong> Reducir a un objeto agrupando elementos por una propiedad com√∫n</p>
                            <p><strong>Paso 1:</strong> Inicializar con objeto vac√≠o: <code>{}</code></p>
                            <p><strong>Paso 2:</strong> Verificar si categor√≠a existe: <code>if (!grupos[producto.categoria])</code></p>
                            <p><strong>Paso 3:</strong> Crear array si no existe: <code>grupos[producto.categoria] = []</code></p>
                            <p><strong>Paso 4:</strong> Agregar producto al grupo: <code>grupos[producto.categoria].push(producto.nombre)</code></p>
                            <p><strong>Paso 5:</strong> Retornar acumulador: <code>return grupos</code></p>
                            <p><strong>Soluci√≥n completa:</strong></p>
                            <pre><code>productos.reduce((grupos, producto) => {
  // Si la categor√≠a no existe, crear array vac√≠o
  if (!grupos[producto.categoria]) {
    grupos[producto.categoria] = [];
  }

  // Agregar el nombre del producto a su categor√≠a
  grupos[producto.categoria].push(producto.nombre);

  // IMPORTANTE: siempre retornar el acumulador
  return grupos;
}, {})</code></pre>
                            <p><strong>Patr√≥n clave:</strong> Este es el patr√≥n "group by" m√°s com√∫n en JavaScript para agrupar elementos por una propiedad.</p>
                        </details>
                    </div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 6: An√°lisis estad√≠stico completo (üöÄ Nivel 2 a√±os de experiencias)</h4>
                    <p>Dado un array de ventas <code>[{vendedor: 'Ana', ventas: [100, 200, 150]}, {vendedor: 'Luis', ventas: [300, 250, 400]}, {vendedor: 'Mar√≠a', ventas: [180, 220, 190]}]</code>, calcula un objeto con estad√≠sticas: total general, promedio por vendedor, mejor vendedor y mes con m√°s ventas.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> Objeto con an√°lisis completo de ventas
                    </div>
                    <textarea id="exercise-reduce-6" placeholder="// Desaf√≠o: estad√≠sticas complejas en un solo reduce
// ventasData.reduce((stats, vendedor) => { ... }, {})"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('reduce', 6)">Verificar</button>
                    <div class="exercise-result" id="result-reduce-6"></div>

                    <div class="challenge-hint">
                        <details>
                            <summary>üí° Ver pistas detalladas</summary>
                            <p><strong>Concepto clave:</strong> Reduce complex que calcula m√∫ltiples estad√≠sticas en una sola pasada</p>
                            <p><strong>Estrategia:</strong> Inicializar un objeto acumulador con todas las m√©tricas y actualizarlas en cada iteraci√≥n</p>
                            <p><strong>M√©tricas a calcular:</strong></p>
                            <ul>
                                <li>Total general de todas las ventas</li>
                                <li>Total por vendedor</li>
                                <li>Mejor vendedor (mayor total)</li>
                                <li>Promedio general</li>
                            </ul>
                            <p><strong>Estructura del acumulador inicial:</strong></p>
                            <pre><code>{
  totalGeneral: 0,
  totalPorVendedor: {},
  mejorVendedor: '',
  promedioGeneral: 0
}</code></pre>
                            <p><strong>Soluci√≥n completa:</strong></p>
                            <pre><code>ventasData.reduce((stats, vendedor) => {
  // Calcular total del vendedor actual
  const totalVendedor = vendedor.ventas.reduce((sum, venta) => sum + venta, 0);

  // Actualizar total general
  stats.totalGeneral += totalVendedor;

  // Guardar total por vendedor
  stats.totalPorVendedor[vendedor.vendedor] = totalVendedor;

  // Actualizar mejor vendedor si es necesario
  if (!stats.mejorVendedor || totalVendedor > stats.totalPorVendedor[stats.mejorVendedor]) {
    stats.mejorVendedor = vendedor.vendedor;
  }

  return stats;
}, {
  totalGeneral: 0,
  totalPorVendedor: {},
  mejorVendedor: '',
  promedioGeneral: 0
})</code></pre>
                            <p><strong>Nota:</strong> El promedio se puede calcular al final dividiendo totalGeneral por n√∫mero total de transacciones.</p>
                        </details>
                    </div>
                </div>
            </div>

            <!-- Ejercicios Combinados -->
            <div class="exercise-group">
                <h3>üî• Ejercicios Combinados (MAP + FILTER + REDUCE)</h3>

                <div class="exercise">
                    <h4>Ejercicio 7: Pipeline de datos b√°sico (üéì Nivel Estudiante)</h4>
                    <p>Dado un array de n√∫meros <code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code>, encuentra los n√∫meros pares, multipl√≠calos por 2 y luego suma todos los resultados. Usa filter, map y reduce en ese orden.</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>60</code> (suma de [4, 8, 12, 16, 20])
                    </div>
                    <textarea id="exercise-combined-1" placeholder="// Encadena: filter -> map -> reduce
// numeros.filter(...).map(...).reduce(...)"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('combined', 1)">Verificar</button>
                    <div class="exercise-result" id="result-combined-1"></div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 8: An√°lisis de ventas por regi√≥n (üíº Nivel 1 a√±o de experiencia)</h4>
                    <p>Dado un array de ventas <code>[{producto: 'Laptop', region: 'Norte', ventas: 150, precio: 1000}, {producto: 'Mouse', region: 'Sur', ventas: 300, precio: 25}, {producto: 'Teclado', region: 'Norte', ventas: 200, precio: 50}]</code>, calcula el ingreso total de la regi√≥n 'Norte' (ventas √ó precio).</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> <code>160000</code> (ingreso total regi√≥n Norte)
                    </div>
                    <textarea id="exercise-combined-2" placeholder="// 1. Filter por regi√≥n Norte
// 2. Map para calcular ingreso (ventas * precio)
// 3. Reduce para sumar todo"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('combined', 2)">Verificar</button>
                    <div class="exercise-result" id="result-combined-2"></div>

                    <div class="challenge-hint">
                        <details>
                            <summary>üí° Ver pistas detalladas</summary>
                            <p><strong>Concepto clave:</strong> Pipeline de transformaci√≥n de datos (filter ‚Üí map ‚Üí reduce)</p>
                            <p><strong>Pensamiento paso a paso:</strong></p>
                            <ol>
                                <li><strong>Filter:</strong> Quedarse solo con regi√≥n 'Norte'</li>
                                <li><strong>Map:</strong> Convertir cada venta en su ingreso total</li>
                                <li><strong>Reduce:</strong> Sumar todos los ingresos</li>
                            </ol>
                            <p><strong>Paso 1 - Filter:</strong> <code>ventasRegion.filter(venta => venta.region === 'Norte')</code></p>
                            <p><strong>Paso 2 - Map:</strong> <code>.map(venta => venta.ventas * venta.precio)</code></p>
                            <p><strong>Paso 3 - Reduce:</strong> <code>.reduce((total, ingreso) => total + ingreso, 0)</code></p>
                            <p><strong>Soluci√≥n encadenada:</strong></p>
                            <pre><code>ventasRegion
  .filter(venta => venta.region === 'Norte')
  .map(venta => venta.ventas * venta.precio)
  .reduce((total, ingreso) => total + ingreso, 0)</code></pre>
                            <p><strong>Verificaci√≥n manual:</strong> Norte: Laptop (150 √ó 1000 = 150,000) + Teclado (200 √ó 50 = 10,000) = 160,000</p>
                        </details>
                    </div>
                </div>

                <div class="exercise">
                    <h4>Ejercicio 9: Sistema de recomendaciones avanzado (üöÄ Nivel 2 a√±os de experiencias)</h4>
                    <p>Dado un array de usuarios con sus compras <code>[{nombre: 'Ana', edad: 25, compras: [{categoria: 'tech', satisfaccion: 4.5, precio: 1000}, {categoria: 'books', satisfaccion: 4.0, precio: 30}]}, {nombre: 'Luis', edad: 30, compras: [{categoria: 'tech', satisfaccion: 3.5, precio: 800}]}]</code>, encuentra la categor√≠a m√°s popular entre usuarios j√≥venes (edad < 30) con alta satisfacci√≥n (>= 4.0).</p>
                    <div class="expected-result">
                        <strong>Resultado esperado:</strong> String con la categor√≠a m√°s popular
                    </div>
                    <textarea id="exercise-combined-3" placeholder="// Pipeline complejo:
// 1. Filter usuarios j√≥venes
// 2. Map para extraer compras con alta satisfacci√≥n
// 3. Reduce para contar categor√≠as y encontrar la m√°s popular"></textarea>
                    <button class="exercise-btn" onclick="checkExercise('combined', 3)">Verificar</button>
                    <div class="exercise-result" id="result-combined-3"></div>

                    <div class="challenge-hint">
                        <details>
                            <summary>üí° Ver pistas detalladas</summary>
                            <p><strong>Concepto clave:</strong> Pipeline complejo con datos anidados y m√∫ltiples transformaciones</p>
                            <p><strong>Desaf√≠os:</strong></p>
                            <ul>
                                <li>Trabajar con arrays anidados (compras dentro de usuarios)</li>
                                <li>Filtrar tanto usuarios como compras</li>
                                <li>Contar ocurrencias y encontrar el m√°ximo</li>
                            </ul>
                            <p><strong>Estrategia paso a paso:</strong></p>
                            <p><strong>Paso 1 - Filter usuarios j√≥venes:</strong></p>
                            <pre><code>usuariosData.filter(usuario => usuario.edad < 30)</code></pre>
                            <p><strong>Paso 2 - Map para extraer compras v√°lidas:</strong></p>
                            <pre><code>.map(usuario => usuario.compras.filter(compra => compra.satisfaccion >= 4.0))</code></pre>
                            <p><strong>Paso 3 - Aplanar arrays (opcional con flatMap):</strong></p>
                            <pre><code>.flatMap(compras => compras)</code></pre>
                            <p><strong>Paso 4 - Reduce para contar categor√≠as:</strong></p>
                            <pre><code>.reduce((contador, compra) => {
  contador[compra.categoria] = (contador[compra.categoria] || 0) + 1;
  return contador;
}, {})</code></pre>
                            <p><strong>Paso 5 - Encontrar categor√≠a m√°s popular:</strong></p>
                            <pre><code>// Despu√©s del pipeline anterior:
Object.keys(conteoCateg).reduce((masPopular, categoria) =>
  conteoCateg[categoria] > (conteoCateg[masPopular] || 0) ? categoria : masPopular
)</code></pre>
                            <p><strong>Soluci√≥n alternativa m√°s elegante:</strong></p>
                            <pre><code>usuariosData
  .filter(usuario => usuario.edad < 30)
  .flatMap(usuario => usuario.compras)
  .filter(compra => compra.satisfaccion >= 4.0)
  .reduce((contador, compra) => {
    contador[compra.categoria] = (contador[compra.categoria] || 0) + 1;
    return contador;
  }, {})
  // Luego encontrar la categor√≠a con m√°s ocurrencias</code></pre>
                        </details>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
